{"ast":null,"code":"import _defineProperty from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/src/VolunteerUpdateForm/index.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport './style.css';\n\nvar VolunteerUpdateForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(VolunteerUpdateForm, _Component);\n\n  function VolunteerUpdateForm(props) {\n    var _this;\n\n    _classCallCheck(this, VolunteerUpdateForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VolunteerUpdateForm).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.getVolunteer();\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.getVolunteer =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var volunteer;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch('/api/volunteer', {\n                method: \"GET\",\n                headers: {\n                  \"jwt-token\": localStorage.getItem('user-jwt')\n                }\n              });\n\n            case 2:\n              _context2.next = 4;\n              return _context2.sent.json();\n\n            case 4:\n              volunteer = _context2.sent;\n\n              _this.setState({\n                volunteer: volunteer\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    _this.updateInput = function (event) {\n      event.preventDefault();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.updateFile = function (event) {\n      event.preventDefault();\n      console.log(event.target.files[0]);\n\n      _this.setState({\n        profilePicture: event.target.files[0]\n      });\n    };\n\n    _this.isValid = function (event) {\n      event.preventDefault();\n      var isValid = false;\n      var emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      var specialCharacterPattern = /[!@()#$%&'*+/=?^_`{|}~-]+/;\n      var numberPattern = /\\d/;\n      var usernameMessageText;\n      var emailMessageText;\n      var passwordMessageText;\n\n      if (_this.state.username.length === 0) {\n        isValid = false;\n        usernameMessageText = 'A username is required for registration';\n      }\n\n      if (!emailRegex.exec(_this.state.email)) {\n        isValid = false;\n        emailMessageText = 'Email address is invalid!';\n      }\n\n      if (_this.state.password.length < 7 || !specialCharacterPattern.exec(_this.state.password) || !numberPattern.exec(_this.state.password)) {\n        isValid = false;\n        passwordMessageText = 'Password is invalid! Password must be at least 7 characters long and include at least one number and one special character';\n      }\n\n      isValid = true;\n\n      _this.setState({\n        valid: isValid,\n        usernameMessage: usernameMessageText,\n        emailMessage: emailMessageText,\n        passwordMessage: passwordMessageText\n      });\n\n      _this.uploadFile();\n    };\n\n    _this.uploadFile = function () {\n      var url = 'https://api.cloudinary.com/v1_1/amhouel/upload';\n      var xhr = new XMLHttpRequest();\n      var fd = new FormData();\n      xhr.open('POST', url, true);\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n      fd.append('upload_preset', 'zm0ff4bo');\n      fd.append('file', _this.state.profilePicture);\n      fd.append('public_id', _this.state.username);\n      xhr.send(fd);\n    };\n\n    _this.state = {\n      volunteer: {},\n      valid: false,\n      fullName: '',\n      dob: '',\n      address: '',\n      username: '',\n      profilePicture: '',\n      email: '',\n      password: '',\n      usernameMessage: '',\n      emailMessage: '',\n      passwordMessage: '',\n      message: ''\n    };\n    return _this;\n  }\n\n  _createClass(VolunteerUpdateForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          fullName = _this$state.fullName,\n          address = _this$state.address,\n          dob = _this$state.dob,\n          email = _this$state.email,\n          profilePicture = _this$state.profilePicture,\n          password = _this$state.password;\n      return React.createElement(\"div\", {\n        className: \"update-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"update-form\",\n        onSubmit: this.isValid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"full-name-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Full Name:\"), React.createElement(\"input\", {\n        className: \"full-name-input\",\n        type: \"text\",\n        placeholder: this.state.volunteer.fullName,\n        name: \"fullName\",\n        value: this.state.fullName,\n        onChange: this.updateInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"dob-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Date of Birth:\"), React.createElement(\"input\", {\n        type: \"date\",\n        name: \"dob\",\n        value: this.state.dob,\n        placeholder: this.state.volunteer.dob,\n        onChange: this.updateInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"address-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Address:\"), React.createElement(\"input\", {\n        className: \"address-input\",\n        type: \"text\",\n        name: \"address\",\n        placeholder: this.state.volunteer.address,\n        value: this.state.address,\n        onChange: this.updateInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"email-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Email:\"), React.createElement(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: this.state.volunteer,\n        value: this.state.email,\n        onChange: this.updateInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"validation-message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.state.emailMessage), React.createElement(\"label\", {\n        className: \"profile-picture-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Profile Picture:\"), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"profilePicture\",\n        onChange: this.updateFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"password-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Password:\"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: this.updateInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"validation-message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.state.passwordMessage)), !this.state.valid && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"ok-button\",\n        onClick: this.isValid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Ok\"), React.createElement(\"button\", {\n        className: \"cancel-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"cancel-link\",\n        to: \"/volunteer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Cancel\"))), this.state.valid && React.createElement(\"button\", {\n        className: \"update-button\",\n        onClick: this.update,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Update Profile\"), this.state.message && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, this.state.message));\n    }\n  }]);\n\n  return VolunteerUpdateForm;\n}(Component);\n\nexport default VolunteerUpdateForm;","map":{"version":3,"sources":["/Users/amhouel/wdi/unit04/projects/project-4-give-back-app/src/VolunteerUpdateForm/index.js"],"names":["React","Component","BrowserRouter","Router","Link","Route","VolunteerUpdateForm","props","componentDidMount","getVolunteer","fetch","method","headers","localStorage","getItem","json","volunteer","setState","updateInput","event","preventDefault","target","name","value","updateFile","console","log","files","profilePicture","isValid","emailRegex","specialCharacterPattern","numberPattern","usernameMessageText","emailMessageText","passwordMessageText","state","username","length","exec","email","password","valid","usernameMessage","emailMessage","passwordMessage","uploadFile","url","xhr","XMLHttpRequest","fd","FormData","open","setRequestHeader","append","send","fullName","dob","address","message","update"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,IAAlC,EAAwCC,KAAxC,QAAqD,kBAArD;AACA,OAAO,aAAP;;IAEMC,mB;;;;;AACJ,+BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6FAAMA,KAAN;AADiB,UAoBnBC,iBApBmB;AAAA;AAAA;AAAA;AAAA,6BAoBC;AAAA;AAAA;AAAA;AAAA;AAClB,oBAAKC,YAAL;;AADkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KApBD;AAAA,UAwBnBA,YAxBmB;AAAA;AAAA;AAAA;AAAA,6BAwBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACkBC,KAAK,CAAC,gBAAD,EAAmB;AACrDC,gBAAAA,MAAM,EAAE,KAD6C;AAErDC,gBAAAA,OAAO,EAAE;AACP,+BAAaC,YAAY,CAACC,OAAb,CAAqB,UAArB;AADN;AAF4C,eAAnB,CADvB;;AAAA;AAAA;AAAA,oCAMTC,IANS;;AAAA;AACPC,cAAAA,SADO;;AAOb,oBAAKC,QAAL,CAAc;AACZD,gBAAAA,SAAS,EAAEA;AADC,eAAd;;AAPa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAxBI;;AAAA,UAoCnBE,WApCmB,GAoCL,UAAAC,KAAK,EAAI;AACrBA,MAAAA,KAAK,CAACC,cAAN;;AACA,YAAKH,QAAL,qBACGE,KAAK,CAACE,MAAN,CAAaC,IADhB,EACuBH,KAAK,CAACE,MAAN,CAAaE,KADpC;AAGD,KAzCkB;;AAAA,UA4CnBC,UA5CmB,GA4CN,UAAAL,KAAK,EAAI;AACpBA,MAAAA,KAAK,CAACC,cAAN;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACE,MAAN,CAAaM,KAAb,CAAmB,CAAnB,CAAZ;;AAEA,YAAKV,QAAL,CAAc;AACZW,QAAAA,cAAc,EAAET,KAAK,CAACE,MAAN,CAAaM,KAAb,CAAmB,CAAnB;AADJ,OAAd;AAGD,KAnDkB;;AAAA,UAqDnBE,OArDmB,GAqDT,UAAAV,KAAK,EAAI;AACjBA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAIS,OAAO,GAAG,KAAd;AACA,UAAIC,UAAU,GAAG,wJAAjB;AACA,UAAIC,uBAAuB,GAAG,2BAA9B;AACA,UAAIC,aAAa,GAAG,IAApB;AACA,UAAIC,mBAAJ;AACA,UAAIC,gBAAJ;AACA,UAAIC,mBAAJ;;AAEA,UAAI,MAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAApB,KAA+B,CAAnC,EAAsC;AACpCT,QAAAA,OAAO,GAAG,KAAV;AACAI,QAAAA,mBAAmB,GAAG,yCAAtB;AACD;;AACD,UAAI,CAACH,UAAU,CAACS,IAAX,CAAgB,MAAKH,KAAL,CAAWI,KAA3B,CAAL,EAAwC;AACtCX,QAAAA,OAAO,GAAG,KAAV;AACAK,QAAAA,gBAAgB,GAAG,2BAAnB;AACD;;AACD,UAAI,MAAKE,KAAL,CAAWK,QAAX,CAAoBH,MAApB,GAA6B,CAA7B,IAAkC,CAACP,uBAAuB,CAACQ,IAAxB,CAA6B,MAAKH,KAAL,CAAWK,QAAxC,CAAnC,IAAwF,CAACT,aAAa,CAACO,IAAd,CAAmB,MAAKH,KAAL,CAAWK,QAA9B,CAA7F,EAAsI;AACpIZ,QAAAA,OAAO,GAAG,KAAV;AACAM,QAAAA,mBAAmB,GAAG,4HAAtB;AACD;;AAEDN,MAAAA,OAAO,GAAG,IAAV;;AAEA,YAAKZ,QAAL,CAAc;AACZyB,QAAAA,KAAK,EAAEb,OADK;AAEZc,QAAAA,eAAe,EAAEV,mBAFL;AAGZW,QAAAA,YAAY,EAAEV,gBAHF;AAIZW,QAAAA,eAAe,EAAEV;AAJL,OAAd;;AAMA,YAAKW,UAAL;AACD,KArFkB;;AAAA,UAwFnBA,UAxFmB,GAwFN,YAAM;AACjB,UAAMC,GAAG,GAAG,gDAAZ;AACA,UAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACA,UAAMC,EAAE,GAAG,IAAIC,QAAJ,EAAX;AACAH,MAAAA,GAAG,CAACI,IAAJ,CAAS,MAAT,EAAiBL,GAAjB,EAAsB,IAAtB;AACAC,MAAAA,GAAG,CAACK,gBAAJ,CAAqB,kBAArB,EAAyC,gBAAzC;AACAH,MAAAA,EAAE,CAACI,MAAH,CAAU,eAAV,EAA2B,UAA3B;AACAJ,MAAAA,EAAE,CAACI,MAAH,CAAU,MAAV,EAAkB,MAAKlB,KAAL,CAAWR,cAA7B;AACAsB,MAAAA,EAAE,CAACI,MAAH,CAAU,WAAV,EAAuB,MAAKlB,KAAL,CAAWC,QAAlC;AACAW,MAAAA,GAAG,CAACO,IAAJ,CAASL,EAAT;AACD,KAlGkB;;AAGjB,UAAKd,KAAL,GAAa;AACXpB,MAAAA,SAAS,EAAE,EADA;AAEX0B,MAAAA,KAAK,EAAE,KAFI;AAGXc,MAAAA,QAAQ,EAAE,EAHC;AAIXC,MAAAA,GAAG,EAAE,EAJM;AAKXC,MAAAA,OAAO,EAAE,EALE;AAMXrB,MAAAA,QAAQ,EAAE,EANC;AAOXT,MAAAA,cAAc,EAAE,EAPL;AAQXY,MAAAA,KAAK,EAAE,EARI;AASXC,MAAAA,QAAQ,EAAE,EATC;AAUXE,MAAAA,eAAe,EAAE,EAVN;AAWXC,MAAAA,YAAY,EAAE,EAXH;AAYXC,MAAAA,eAAe,EAAE,EAZN;AAaXc,MAAAA,OAAO,EAAE;AAbE,KAAb;AAHiB;AAkBlB;;;;6BAoFQ;AAAA,wBAC2D,KAAKvB,KADhE;AAAA,UACAoB,QADA,eACAA,QADA;AAAA,UACUE,OADV,eACUA,OADV;AAAA,UACmBD,GADnB,eACmBA,GADnB;AAAA,UACwBjB,KADxB,eACwBA,KADxB;AAAA,UAC+BZ,cAD/B,eAC+BA,cAD/B;AAAA,UAC+Ca,QAD/C,eAC+CA,QAD/C;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,aAAhB;AAA8B,QAAA,QAAQ,EAAE,KAAKZ,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAmC,QAAA,IAAI,EAAC,MAAxC;AAA+C,QAAA,WAAW,EAAE,KAAKO,KAAL,CAAWpB,SAAX,CAAqBwC,QAAjF;AAA2F,QAAA,IAAI,EAAC,UAAhG;AAA2G,QAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWoB,QAA7H;AAAuI,QAAA,QAAQ,EAAE,KAAKtC,WAAtJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAO,QAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHF,EAIE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,KAAxB;AAA8B,QAAA,KAAK,EAAE,KAAKkB,KAAL,CAAWqB,GAAhD;AAAqD,QAAA,WAAW,EAAE,KAAKrB,KAAL,CAAWpB,SAAX,CAAqByC,GAAvF;AAA4F,QAAA,QAAQ,EAAE,KAAKvC,WAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE;AAAO,QAAA,SAAS,EAAC,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,EAME;AAAO,QAAA,SAAS,EAAC,eAAjB;AAAiC,QAAA,IAAI,EAAC,MAAtC;AAA6C,QAAA,IAAI,EAAC,SAAlD;AAA4D,QAAA,WAAW,EAAE,KAAKkB,KAAL,CAAWpB,SAAX,CAAqB0C,OAA9F;AAAuG,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWsB,OAAzH;AAAkI,QAAA,QAAQ,EAAE,KAAKxC,WAAjJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAOE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,EAQE;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,OAAzB;AAAiC,QAAA,WAAW,EAAE,KAAKkB,KAAL,CAAWpB,SAAzD;AAAoE,QAAA,KAAK,EAAE,KAAKoB,KAAL,CAAWI,KAAtF;AAA6F,QAAA,QAAQ,EAAE,KAAKtB,WAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EASE;AAAG,QAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmC,KAAKkB,KAAL,CAAWQ,YAA9C,CATF,EAUE;AAAO,QAAA,SAAS,EAAC,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAVF,EAWE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,gBAAxB;AAAyC,QAAA,QAAQ,EAAE,KAAKpB,UAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,EAYE;AAAO,QAAA,SAAS,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAZF,EAaE;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAC,UAA5B;AAAuC,QAAA,WAAW,EAAC,UAAnD;AAA8D,QAAA,KAAK,EAAE,KAAKY,KAAL,CAAWK,QAAhF;AAA0F,QAAA,QAAQ,EAAE,KAAKvB,WAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE;AAAG,QAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmC,KAAKkB,KAAL,CAAWS,eAA9C,CAdF,CADF,EAiBG,CAAC,KAAKT,KAAL,CAAWM,KAAZ,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,WAAlB;AAA8B,QAAA,OAAO,EAAE,KAAKb,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkC,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,aAAhB;AAA8B,QAAA,EAAE,EAAC,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAlC,CAFF,CAlBJ,EAuBG,KAAKO,KAAL,CAAWM,KAAX,IACC;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAkC,QAAA,OAAO,EAAE,KAAKkB,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAxBJ,EA0BG,KAAKxB,KAAL,CAAWuB,OAAX,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKvB,KAAL,CAAWuB,OAAf,CA3BJ,CADF;AAgCD;;;;EAzI+B1D,S;;AA4IlC,eAAeK,mBAAf","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\nimport './style.css';\n\nclass VolunteerUpdateForm extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      volunteer: {},\n      valid: false,\n      fullName: '',\n      dob: '',\n      address: '',\n      username: '',\n      profilePicture: '',\n      email: '',\n      password: '',\n      usernameMessage: '',\n      emailMessage: '',\n      passwordMessage: '',\n      message: ''\n    }\n  }\n\n  componentDidMount = async () => {\n    this.getVolunteer();\n  }\n\n  getVolunteer = async () => {\n    const volunteer = await (await fetch('/api/volunteer', {\n      method: \"GET\",\n      headers: {\n        \"jwt-token\": localStorage.getItem('user-jwt')\n      }\n    })).json();\n    this.setState({\n      volunteer: volunteer\n    });\n  }\n\n  updateInput = event => {\n    event.preventDefault();\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  // Code from \"React Image Upload Made Easy\" Youtube video\n  updateFile = event => {\n    event.preventDefault();\n    console.log(event.target.files[0]);\n\n    this.setState({\n      profilePicture: event.target.files[0]\n    });\n  }\n\n  isValid = event => {\n    event.preventDefault();\n    let isValid = false;\n    let emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    let specialCharacterPattern = /[!@()#$%&'*+/=?^_`{|}~-]+/;\n    let numberPattern = /\\d/;\n    let usernameMessageText;\n    let emailMessageText;\n    let passwordMessageText;\n\n    if (this.state.username.length === 0) {\n      isValid = false;\n      usernameMessageText = 'A username is required for registration';\n    }\n    if (!emailRegex.exec(this.state.email)) {\n      isValid = false;\n      emailMessageText = 'Email address is invalid!';\n    }\n    if (this.state.password.length < 7 || !specialCharacterPattern.exec(this.state.password) || !numberPattern.exec(this.state.password)) {\n      isValid = false;\n      passwordMessageText = 'Password is invalid! Password must be at least 7 characters long and include at least one number and one special character';\n    }\n\n    isValid = true;\n\n    this.setState({\n      valid: isValid,\n      usernameMessage: usernameMessageText,\n      emailMessage: emailMessageText,\n      passwordMessage: passwordMessageText\n    });\n    this.uploadFile();\n  }\n\n  //Code from \"HTML5 upload (xhr) to Cloudinary\" Codepen\n  uploadFile = () => {\n    const url = 'https://api.cloudinary.com/v1_1/amhouel/upload';\n    const xhr = new XMLHttpRequest();\n    const fd = new FormData();\n    xhr.open('POST', url, true);\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    fd.append('upload_preset', 'zm0ff4bo');\n    fd.append('file', this.state.profilePicture);\n    fd.append('public_id', this.state.username);\n    xhr.send(fd);\n  }\n\n\n\n  render() {\n    const {fullName, address, dob, email, profilePicture, password} = this.state\n    return (\n      <div className=\"update-wrapper\">\n        <form className=\"update-form\" onSubmit={this.isValid}>\n          <label className=\"full-name-label\">Full Name:</label>\n          <input className=\"full-name-input\" type=\"text\" placeholder={this.state.volunteer.fullName} name=\"fullName\" value={this.state.fullName} onChange={this.updateInput} />\n          <label className=\"dob-label\">Date of Birth:</label>\n          <input type=\"date\" name=\"dob\" value={this.state.dob} placeholder={this.state.volunteer.dob} onChange={this.updateInput} />\n          <label className=\"address-label\">Address:</label>\n          <input className=\"address-input\" type=\"text\" name=\"address\" placeholder={this.state.volunteer.address} value={this.state.address} onChange={this.updateInput} />\n          <label className=\"email-label\">Email:</label>\n          <input type=\"email\" name=\"email\" placeholder={this.state.volunteer} value={this.state.email} onChange={this.updateInput} />\n          <p className=\"validation-message\">{this.state.emailMessage}</p>\n          <label className=\"profile-picture-label\">Profile Picture:</label>\n          <input type=\"file\" name=\"profilePicture\" onChange={this.updateFile} />\n          <label className=\"password-label\">Password:</label>\n          <input type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.updateInput} />\n          <p className=\"validation-message\">{this.state.passwordMessage}</p>\n        </form>\n        {!this.state.valid && (\n          <div>\n            <button className=\"ok-button\" onClick={this.isValid}>Ok</button>\n            <button className=\"cancel-button\"><Link className=\"cancel-link\" to='/volunteer'>Cancel</Link></button>\n          </div>\n        )}\n        {this.state.valid && (\n          <button className=\"update-button\" onClick={this.update}>Update Profile</button>\n        )}\n        {this.state.message && (\n          <p>{this.state.message}</p>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default VolunteerUpdateForm;"]},"metadata":{},"sourceType":"module"}